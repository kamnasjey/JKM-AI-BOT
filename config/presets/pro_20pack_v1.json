{
  "preset_id": "pro_20pack_v1",
  "schema_version": 1,
  "description": "Pro 20-pack preset with all 20 detectors enabled. Includes gates (informational), setup detectors, and optional pipeline mode.",
  
  "pipeline_mode": true,
  
  "gates": {
    "enabled": true,
    "detectors": ["gate_regime", "gate_volatility", "gate_drift_sentinel"],
    "skip_on_chop": true,
    "skip_on_drift_alarm": false
  },
  
  "strategies": [
    {
      "strategy_id": "pro_momentum_v1",
      "enabled": true,
      "priority": 100,
      "min_score": 2.0,
      "min_rr": 2.0,
      "allowed_regimes": ["TREND_BULL", "TREND_BEAR"],
      "detectors": [
        "compression_expansion",
        "momentum_continuation",
        "structure_trend",
        "fibo_retracement",
        "pinbar",
        "engulfing"
      ],
      "detector_weights": {
        "compression_expansion": 1.2,
        "momentum_continuation": 1.3,
        "structure_trend": 1.1,
        "fibo_retracement": 1.0,
        "pinbar": 0.9,
        "engulfing": 0.9
      },
      "family_weights": {
        "momentum": 1.2,
        "structure": 1.1,
        "pattern": 0.9
      },
      "conflict_epsilon": 0.1,
      "confluence_bonus_per_family": 0.3,
      "max_top_hits": 3
    },
    {
      "strategy_id": "pro_mean_reversion_v1",
      "enabled": true,
      "priority": 90,
      "min_score": 1.8,
      "min_rr": 2.5,
      "allowed_regimes": ["RANGE"],
      "detectors": [
        "mean_reversion_snapback",
        "range_box_edge",
        "sr_bounce",
        "fakeout_trap",
        "pinbar",
        "doji"
      ],
      "detector_weights": {
        "mean_reversion_snapback": 1.3,
        "range_box_edge": 1.1,
        "sr_bounce": 1.0,
        "fakeout_trap": 1.2,
        "pinbar": 0.9,
        "doji": 0.7
      },
      "family_weights": {
        "mean_reversion": 1.3,
        "range": 1.1,
        "sr": 1.0,
        "pattern": 0.8
      },
      "conflict_epsilon": 0.1,
      "confluence_bonus_per_family": 0.35,
      "max_top_hits": 3
    },
    {
      "strategy_id": "pro_breakout_v1",
      "enabled": true,
      "priority": 80,
      "min_score": 2.2,
      "min_rr": 2.0,
      "allowed_regimes": ["TREND_BULL", "TREND_BEAR", "RANGE"],
      "detectors": [
        "sr_breakout",
        "sr_role_reversal",
        "compression_expansion",
        "structure_trend",
        "fibo_extension",
        "swing_failure"
      ],
      "detector_weights": {
        "sr_breakout": 1.2,
        "sr_role_reversal": 1.3,
        "compression_expansion": 1.1,
        "structure_trend": 1.0,
        "fibo_extension": 0.9,
        "swing_failure": 1.1
      },
      "family_weights": {
        "sr": 1.2,
        "momentum": 1.1,
        "structure": 1.0,
        "fibo": 0.9
      },
      "conflict_epsilon": 0.08,
      "confluence_bonus_per_family": 0.25,
      "max_top_hits": 3
    }
  ],
  
  "detector_list": [
    "gate_regime",
    "gate_volatility", 
    "gate_drift_sentinel",
    "pinbar",
    "engulfing",
    "doji",
    "pinbar_at_level",
    "fibo_retracement",
    "fibo_extension",
    "fibo_retrace_confluence",
    "structure_trend",
    "swing_failure",
    "range_box_edge",
    "fakeout_trap",
    "sr_bounce",
    "sr_breakout",
    "sr_role_reversal",
    "compression_expansion",
    "momentum_continuation",
    "mean_reversion_snapback"
  ],
  
  "scoring": {
    "correlation_discount_enabled": true,
    "confluence_bonus_enabled": true,
    "family_bonus_per_extra_family": 0.25
  },
  
  "validation": {
    "min_rr_filter": 1.5,
    "cooldown_bars": 3,
    "drift_reject": false
  },
  
  "notes": [
    "Pro 20-pack includes 3 gates + 17 setup detectors = 20 total",
    "Gates provide context but don't produce signals (direction=None, score_contrib=0)",
    "Pipeline mode: Gates -> Setups -> Validations -> Combine",
    "Correlation discount reduces score for overlapping detector pairs",
    "Confluence bonus rewards signals from multiple independent families"
  ]
}
